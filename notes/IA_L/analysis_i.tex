\documentclass[a4paper]{article}

\usepackage[pdftex,
  hidelinks,
  pdfauthor={Dexter Chua},
  pdfsubject={Cambridge Maths Notes: Part IA - Analysis I},
  pdftitle={Part IA - Analysis I},
pdfkeywords={Cambridge Mathematics Maths Math IA Lent Analysis I}]{hyperref}

\input{header}

\title{Part IA - Analysis I}
\author{Lectured by W. T. Gowers}
\date{Lent 2015}

\begin{document}
\maketitle
{\small
\noindent\textbf{Limits and convergence}\\
Sequences and series in R and C. Sums, products and quotients. Absolute convergence; absolute convergence implies convergence. The Bolzano-Weierstrass theorem and applications (the General Principle of Convergence). Comparison and ratio tests, alternating series test.\hspace*{\fill} [6]

\vspace{10pt}
\noindent\textbf{Continuity}\\
Continuity of real- and complex-valued functions defined on subsets of $\R$ and $\C$. The intermediate value theorem. A continuous function on a closed bounded interval is bounded and attains its bounds.\hspace*{\fill} [3]

\vspace{10pt}
\noindent\textbf{Differentiability}\\
Differentiability of functions from $\R$ to $\R$. Derivative of sums and products. The chain rule. Derivative of the inverse function. Rolle's theorem; the mean value theorem. One-dimensional version of the inverse function theorem. Taylor's theorem from $\R$ to $\R$; Lagrangeâ€™s form of the remainder. Complex differentiation.\hspace*{\fill} [5]

\vspace{10pt}
\noindent\textbf{Power series}\\
Complex power series and radius of convergence. Exponential, trigonometric and hyperbolic functions, and relations between them. *Direct proof of the differentiability of a power series within its circle of convergence*.\hspace*{\fill}[4]

\vspace{10pt}
\noindent\textbf{Integration}\\
Definition and basic properties of the Riemann integral. A non-integrable function. Integrability of monotonic functions. Integrability of piecewise-continuous functions. The fundamental theorem of calculus. Differentiation of indefinite integrals. Integration by parts. The integral form of the remainder in Taylor's theorem. Improper integrals.\hspace*{\fill} [6]}

\tableofcontents

\section{The real number system}
One can define real numbers as ``decimals'' consisting of infinitely many digits. However, while this is legitimate, it is not a convenient definition to work with. Instead, we define the real numbers to be ``an ordered field with the least upper bound property'', and show that the decimals form ``an ordered field with the least upper bound property'' if we really want to.
\begin{defi}[Field]
  A \emph{field} is a set $X$ with two binary operations $+$ and $\times$ that satisfies all the familiar properties satisfied by addition and multiplication in $\Q$, namely
  \begin{itemize}
    \item Associativity: $\forall a, b, c\in X$, $a + (b + c) = (a + b) + c$ and $a\times (b\times c) = (a\times b)\times c$
    \item Commutativity: $\forall a, b\in X$, $a + b = b + a$ and $a\times b= b\times a$
    \item Identity: $\exists 0, 1\in X$ such that $\forall a$, $a + 0 = a$ and $a\times 1 = a$.
    \item Inverses: $\forall a\in X$, $\exists (-a)\in X$ such that $a + (-a) = 0$. If $a\not= 0$, then $\exists a^{-1}$ such that $a\times a^{-1} = 1$.
    \item Distributivity: $\forall a, b, c\in F$, $a\times (b + c) = (a\times b) + (a\times c)$
  \end{itemize}
\end{defi}

\begin{eg}
  $\Q, \R, \C$, integers mod $p$, $\{a + b\sqrt{2}: a, b\in \Z\}$.
\end{eg}

\begin{defi}[Totally ordered set]
  An \emph{(totally) ordered set} is a set $X$ with a relation $<$ that satisfies
  \begin{enumerate}
    \item Transitivity: if $x, y, z\in X$, $x < y$ and $y < z$, then $x < z$
    \item Trichotomy: if $x, y\in X$, exactly one of $x < y, x = y, y < x$ holds
  \end{enumerate}
\end{defi}

\begin{defi}[Ordered field]
  An \emph{ordered field} is a field $\mathbb{F}$ with a relation $<$ that makes $\mathbb{F}$ into an ordered set such that
  \begin{enumerate}
    \item if $x, y, z \in \mathbb{F}$ and $x < y$, then $x + z < y + z$
    \item if $x, y, z \in \mathbb{F}$, $x < y$ and $z > 0$, then $xz < yz$
  \end{enumerate}
\end{defi}

\begin{lemma}
  Let $\mathbb{F}$ be an ordered field and $x\in \mathbb{F}$. Then $x^2 \geq 0$.
\end{lemma}

\begin{proof}
  By trichotomy, either $x < 0$, $x = 0$ or $x > 0$. If $x = 0$, then $x^2 = 0$. So $x^2 \geq 0$. If $x > 0$, then $x^2 > 0\times x = 0$. If $x < 0$, then $x - x < 0 - x$. So $0 < -x$. But then $x^2 = (-x)^2 > 0$.
\end{proof}

\begin{defi}[Least upper bound]
  Let $X$ be an ordered set and let $A\subseteq X$. An \emph{upper bound} for $A$ is an element $x\in X$ such that $\forall a\in A(a \leq x)$. If $A$ has an upper bound, then we say that $A$ is \emph{bounded above}.

  An upper bound $x$ for $A$ is a \emph{least upper bound} or \emph{supremum} if nothing smaller that $x$ is an upper bound. That is, we need
  \begin{enumerate}
    \item $\forall a\in A(a \leq x)$
    \item $\forall y < x(\exists a\in A(a \geq y))$
  \end{enumerate}

  We usually write $\sup A$ for the supremum of $A$ when it exists. If $\sup A\in A$, then we call it $\max A$, the maximum of $A$.
\end{defi}

\begin{eg}
  Let $X = \Q$. Then the supremum of $(0, 1)$ is $1$. The set $\{x: x^2 < 2\}$ is bounded above by $2$, but has no supremum (even though $\sqrt{2}$ seems like a supremum, we are in $\Q$ and $\sqrt{2}$ is non-existent!).

  $\max [0, 1] = 1$ but $(0, 1)$ has no maximum because the supremum is not in $(0, 1)$.
\end{eg}

We can think of the supremum as a point we can get arbitrarily close to in the set but cannot pass through.

\begin{defi}[Least upper bound property]
  An ordered field has the \emph{least upper bound property} if every non-empty subset of $\mathbb{F}$ that is bounded above has a supremum.
\end{defi}

Obvious modifications give rise to definitions of lower bound, greatest lower bound (or infimum) etc. It is simple to check that an ordered field with the least upper bound property has the greatest lower bound property.

\begin{defi}[Real numbers]
  The \emph{real numbers} is an ordered field with the least upper bound property.
\end{defi}
Of course, it is \emph{very} important to show that this field is unique and there is at least one field that satisfies this property! But we are not doing that in this cours.

\begin{lemma}[Archimedean property v1)]
  Let $\mathbb{F}$ be an ordered field with the least upper bound property. Then the set $\{1, 2, 3, \cdots\}$ is not bounded above. (Note that these need not refer to natural numbers. We simply define $1$ to be the multiplicative identity, $2 = 1 + 1$, $3 = 1 + 2$ etc.)
\end{lemma}

\begin{proof}
  If it is bounded above, then it has a supremum $x$. But then $x - 1$ is not an upper bound. So we can find $n\in \{1, 2, 3, \cdots\}$ such that $n> x - 1$. But then $n + 1 > x$ but $x$ is supposed to be an upper bound.
\end{proof}

While the Archimedean property seems to be trivially true for all ordered fields even if they are not bounded above, actually there are ordered fields in which the integers are not bounded above.

For example, consider the field of rational functions, i.e. functions in the form $\frac{P(x)}{Q(x)}$ with $P(x), Q(x)$ being polynomials. We order two functions $\frac{P(x)}{Q(x)}, \frac{R(s)}{S(x)}$ as follows: these two functions intersect only finitely many times because $P(x)S(x) = R(x)Q(x)$ has only finitely many roots. After the last intersection, the function whose value is greater counts as the greater function. It can be checked that these form an ordered field.

In this field, the integers are the constant functions $1, 2, 3, \cdots$, but it is not bounded above since the function $x$ is greater than all of them.

\section{Convergence of sequences}
\begin{defi}[Sequence]
  A \emph{sequence} is, formally, a function $a: \N \to \R$ (or $\C$). Usually (i.e. always), we write $a_n$ instead of $a(n)$. Instead of $a$, $(a_n)$, $(a_n)_1^\infty$ or $(a_n)_{n = 1}^\infty$ to indicate it is a sequence.
\end{defi}

\begin{defi}[Convergence of sequence]
  Let $(a_n)$ be a sequence and $\ell\in \R$. Then $a_n$ \emph{converges to} $\ell$, \emph{tends to} $\ell$, or $a_n \to \ell$ , if
  \[
    \forall \varepsilon > 0\;\exists N\; \forall n\geq N:\;|a_n - \ell| < \varepsilon.
  \]
\end{defi}
One can think of $\exists N : \forall n\geq N$ as saying ``eventually always'', or as ``from some point on''. So the definition means, if $a_n\to \ell$, then given any $\varepsilon$, there eventually, everything in the sequence is within $\varepsilon$ of $\ell$.

\begin{lemma}[Archimedean property v2]
  $1/n \to 0$.
\end{lemma}

\begin{proof}
  \textcolor{red}{Let $\varepsilon > 0$}. We want to find an $N$ such that $|1/N - 0| = 1/N < \varepsilon$. So \textcolor{red}{pick $N$} such that $N > 1/\varepsilon$. This exists such an $N$ by the Archimedean property v1. Then \textcolor{red}{for all $n > N$}, we have $0 < 1/n \leq 1/N < \varepsilon$. So \textcolor{red}{$|1/n - 0|\to \varepsilon$}.
\end{proof}
Note that the red parts correspond to the \emph{definition} of a sequence.

\begin{defi}[Bounded sequence]
  A sequence $(a_n)$ is \emph{bounded}
  \[
    \exists C\;\forall n:\;|a_n| \leq C.
  \]
  A sequnece is \emph{eventually bounded} if
  \[
    \exists C\; \exists N\; \forall n\geq N:\; |a_n| \leq C.
  \]
\end{defi}
\begin{lemma}
  Every eventually bounded sequence is bounded.
\end{lemma}

\begin{proof}
  Let $C$ and $N$ be such that $\forall n\geq N\; |a_n| \leq C$. Then $\forall n \in \N$, $|a_n| \leq \max\{|a_1|, \cdots, |a_{N - 1}|, C\}$.
\end{proof}
\subsection{Sums, products and quotients}

\begin{lemma}[Sums of sequences]
  If $a_n \to a$ and $b_n \to b$, then
  \begin{enumerate}
    \item $a_n + b_n \to a + b$
  \end{enumerate}
\end{lemma}

\begin{proof}
  Let $\varepsilon > 0$. We want to show that $\exists N$ such that $\forall n \geq N$, $|a_n + b_n - (a+b)| < \varepsilon$. We know that $a_n$ is very close to $a$ and $b_n$ is very close to $b$. So their sum must be very close to $a + b$.
  
  Formally, since $a_n\to a$ and $b_n \to b$, we can find $N_1, N_2$ such that $\forall n \geq N_1$, $|a_n - a| < \varepsilon/2$ and $\forall n \geq N_2$, $|b_n - b| < \varepsilon/2$.

  Now let $N = \max\{N_1, N_2\}$. Then by the triangle inequality, 
  \[
    |(a_n + b_n) - (a + b)| \leq |a_n - a| + |b_n - b| < \varepsilon.
  \]
\end{proof}

\begin{lemma}[Scalar multiplication of sequences]
  Let $a_n \to a$ and $\lambda \in \R$. Then $\lambda a_n \to \lambda a$. 
\end{lemma}

\begin{proof}
  If $\lambda = 0$, then the result is trivial.

  Otherwise, let $\varepsilon > 0$. Then $\exists N$ such that $\forall n \geq N$, $|a_n - a| < \varepsilon/|\lambda|$. So $|\lambda a_n - \lambda a| < \epsilon$.
\end{proof}

\begin{lemma}
  Let $a_n$ be bounded $b_n \to 0$. Then $a_nb_n \to 0$.
\end{lemma}

\begin{proof}
  Let $C\not=0$ be such that $\forall n:\; |a_n|\leq C$. Let $\varepsilon > 0$. Then $\exists N$ such that $\forall n\geq N$, $|b_n| < \varepsilon/C$. Then $|a_nb_n| < \varepsilon$. 
\end{proof}

\begin{lemma}
  Every convergent sequence is bounded.
\end{lemma}

\begin{proof}
  Let $a_n \to l$. Then $\exists N: \forall n \geq N$, $|a_n - l| \leq 1$. So $|a_n| \leq |l| + 1$. So $a_n$ is eventually bounded, and therefore bounded.
\end{proof}

\begin{lemma}[Product of sequences]
  Let $a_n\to a$ and $b_n\to b$. Then $a_nb_n\to ab$. 
\end{lemma}

\begin{proof}
  Let $c_n = a_n - a$ and $d_n = b_n - b$. Then $a_nb_n = (a + c_n)(b + d_n) = ab + ad_n + bc_n + c_nd_n$.

  But by ``sum of sequences'', $c_n \to 0$ and $d_n \to 0$. So $ad_n \to 0$ and $bc_n\to 0$. Since $c_n$ is bounded, $c_nd_n \to 0$. Hence by sum of sequences, $a_nb_n \to ab$
\end{proof}

The proof can be discovered as follows: We know that $a_n$ and $b_n$ get close to $a$ and $b$. So we can write $a_n$ as $a$ plus some error term, and similarly for $b$. We realize that the error term of the product is $ad_n + bc_n + c_nd_n$. Then we prove lemmas to show that each of the error terms tend to 0.

On second thought, we only need to consider the error terms of $a_n$, and let $c_n = a_n - a$. Then $(a + c_n)b_n \to ab$ and thus $(a_nb_n\to ab$. 

\begin{proof}
  (alternative) Observe that $a_nb_n - ab = (a_n - a) b_n + (b_n - b)a$. We know that $a_n - a \to 0$ and $b_n - b\to 0$. Since $(b_n)$ is bounded, so $(a_n - a)b_n + (b_n - b)a \to 0$. So $a_nb_n \to ab$.
\end{proof}

Note that we no longer write ``Let $\varepsilon > 0$''. In the beginning, we have no lemmas proven. So we must prove everything from first principles and use the definition. However, after we have proven the lemmas, we can simply use them instead of using first principles. This is similar to in calculus, where we use first principles to prove the product rule and chain rule, then no longer use first principles afterwards.

\begin{lemma}[Quotient of sequences]
  Let $(a_n)$ be a sequence such that $\forall n \not= 0$. Suppose that $a_n \to a$ and $a\not = 0$. Then $1/a_n \to 1/a$.
\end{lemma}

\begin{proof}
  We have
  \[
    \frac{1}{a_n} - \frac{1}{a} = \frac{a - a_n}{aa_n}.
  \]
  We want to show that $1/(aa_n)$ is bounded: Since $a_n \to a$, $\exists N\, \forall n\geq N$, $|a_n - a| \leq a_2$. Then $\forall n\geq N$, $|a_n| \geq |a|/2$. Then $|1/(a_na)| \leq 2/|a|^2$. So $1/(a_na)$ is bounded. So $(a - a_n)/(aa_n)\to 0$ and the result follows.
\end{proof}

\begin{cor}
  If $a_n \to a, b_n \to b$, $b_n, b\not= 0$. Then $a_n/b_n = a/b$.
\end{cor}

\begin{proof}
  We know that $1/b_n \to 1/b$. So the result follows by the product rule.
\end{proof}

\begin{lemma}[Sandwich rule]
  Let $(a_n)$ and $(b_n)$ be sequences that both converge to a limit $x$. Suppose that $a_n \leq c_n \leq b_n$ for every $n$. Then $c_n \to x$.
\end{lemma}

\begin{proof}
  Let $\varepsilon > 0$. We can find $N$ such that $\forall n \geq N$, $|a_n - x| < \varepsilon$ and $|b_n - x| < \varepsilon$.

  The $\forall n\geq N$, we have $x - \varepsilon < a_n \leq c_n \leq b_n < x + \varepsilon$. So $|c_n - x| < \varepsilon$.
\end{proof}

\begin{eg}
  $1/2^n \to 0$. For every $n$, $n < 2^n$. So $0 < 1/2^n < 1/n$. The result follows from the sandwich rule.
\end{eg}
\begin{eg}
  We want to show that
  \[
    \frac{n^2 + 3}{(n + 5)(2n - 1)} \to \frac{1}{2}.
  \]
  Write
      \[
        \frac{n^2 + 3}{(n + 5)(2n - 1)} = \frac{1 + 3/n^2}{(1 + 5/n)(2 - 1/n)} \to \frac{1}{2},
      \]
      by sum rule, sandwich rule, Archimedean property, product rule and quotient rule.
\end{eg}

\begin{eg}
  Let $k\in \N$ and let $\delta > 0$. Then
  \[
    \frac{n^k}{(1 + \delta)^n}\to 0.
  \]
  This can be summarized as ``exponential growth beats polynomial growth eventually''.

  By the binomial theorem,
  \[
    (1 + \delta)^n \geq \binom{n}{k + 1}\delta^{k + 1}.
  \]
  Then if $n\geq 2k$,
  \[
    \binom{n}{k + 1} = \frac{n(n - 1)\cdots(n - k)}{(k + 1)!} \geq \frac{(n/2)^{k + 1}}{(k + 1)!}.
  \]
  So
  \[
    \frac{n^k}{(1 + \delta)^n} \leq \frac{n^k 2^{k + 1} (k+1)!}{n^{k + 1}\delta^{k + 1}} = \frac{2^{k + 1} (k + 1)!}{\delta^{k + 1}} \cdot \frac{1}{n} \to 0.
  \]
\end{eg}

\begin{defi}[Monotone sequence]
  A sequence $(a_n)$ is \emph{increasing} if $\forall n$, $a_n\leq a_{n + 1}$. It is \emph{strictly increasing} $a_n < a_{n + 1}$ for all $n$. \emph{(Strictly) decreasing} sequences are defined analogously.

  A sequence is \emph{(strictly) monotone} if it is (strictly) increasing or (strictly) decreasing.
\end{defi}

\subsection{Monotone-sequences property}
\begin{defi}[Monotone sequences property]
  An ordered field has the \emph{monotone sequences property} if every increasing sequence that is bounded above converges.
\end{defi}

\begin{lemma}
  Least upper bound property $\Rightarrow$ monotone-sequences property.
\end{lemma}

\begin{proof}
  Let $(a_n)$ be an increasing sequence and let $C$ an upper bound for $(a_n)$. The $C$ is an upper bound for the set $\{a_n: n \in \N\}$. By the least upper bound property, it has a supremum $s$.

  Let $\varepsilon > 0$. Since $s = \sup \{a_n: n\in \N\}$, there exists an $N$ such that $a_N > s - \varepsilon$. The $\forall n \geq N$, we have $s - \varepsilon < a_n \leq a_n \leq s$. So $|a_n - s| < \epsilon$.
\end{proof}

\begin{lemma}
  Monotone-sequences property. $\Rightarrow$ Archimedean property.
\end{lemma}

\begin{proof}
  We prove version 2, i.e. that $1/n \to 0$.

  Since $1/n > 0$ and is decreasing, by MSP, in converges. Let $\delta$ be the limit. We must have $\delta \geq 0$, since if $\delta < 0$, then there would exist $n$ with $3\delta/2 < 1/n < \delta/2 < 0$. Contradiction.

  If $\delta > 0$, then we can find $N$ such that $1/N < 2\delta$. But then for all $n \geq 4N$, we have $1/n \leq 1/(4N) < \delta/2$. Contradiction. Therefore $\delta = 0$.
\end{proof}

\begin{lemma}
  Monotone sequences property $\Rightarrow$ least upper bound property.
\end{lemma}

\begin{proof}
  Let $A$ be a non-empty set that's bounded above. Pick $u_0, v_0$ such that $u_0$ is not an upper bound for $A$ and $v_0$ is an upper bound. Now do a repeated bisection: having chosen $u_n$ and $v_n$ such that $u_n$ is not an upper bound and $v_n$ is, if $(u_n + v_n)/2$ is an upper bound, then let $u_{n + 1} = u_n$, $v_{n + 1} = (u_n + v_n)/2$. Otherwise, let $u_{n + 1} + \frac{u_n + v_n}{2}$, $v_{n + 1} = v_n$.

  Then $u_0 \leq u_1 \leq u_2 \leq \cdots$ and $v_0\geq v_1 \geq v_2 \geq \cdots$. Then 
  \[
    v_n - u_n = \frac{v_0 - u_0}{2^n} \to 0.
  \]
  Note that here we used the Archimidean property since to prove $1/2^n \to 0$, we sandwich it with $1/n$. But to show $1/n\to 0$, we need the Archimedean property.

  By the monotone sequences property, $u_n\to s$ (since $(u_n)$ is bounded above by $v_0$). Since $v_n - u_n \to 0$, $v_n \to s$. We now show that $s = \sup A$.

  If $s$ is not an upper bound, then there exists $a\in A$ such that $a > s$. Since $v_n \to s$, then there exists $m$ such that $v_m < a$, contradicting the fact that $v_m$ is an upper bound.

  Let $t < s$. Then since $u_n \to s$, we can find $m$ such that $u_m > t$. So $t$ is not an upper bound. Therefore $s$ is the least upper bound.
\end{proof}

\begin{lemma}
  Let $(a_n)$ be a sequence and suppose that $a_n \to a$. If $\forall n$, $a_n \leq x$, then $a\leq x$. 
\end{lemma}

\begin{proof}
  If $a > x$, then set $\epsilon = a - x$. Then we can find $N$ such that $a_N > x$. Contradiction.
\end{proof}
\note this can be used to streamline some of our earlier arguments, e.g. the monotone sequences property implies $1/n \to 0$.

\begin{lemma}
  A sequence can have at most 1 limit.
\end{lemma}

\begin{proof}
Let $(a_n)$ be a sequence, and suppose $a_n \to x$ and $a_n\to y$. Let $\epsilon > 0$ and pick $N$ such that $\forall n \geq N$, $|a_n - x| < \varepsilon/2$ and $|a_n - y| < \varepsilon/2$. Then $|x - y| \leq |x - a_N| + |a_N - y| < \varepsilon/2 + \varepsilon/2 = \varepsilon$. Since $\epsilon$ was arbitrary, $x$ must equal $y$.
\end{proof}

\begin{defi}[Subsequence]
  Let $(a_n)$ be a sequence. A \emph{subsequence} of $(a_n)$ is a sequence of the form $a_{n_1}, a_{n_2}, \cdots$, where $n_1 < n_2 < \cdots$.
\end{defi}

\begin{eg}
  $1, 1/4, 1/9, 1/16, \cdots$ is a subsequence of $1, 1/2, 1/3, \cdots$.
\end{eg}

\begin{lemma}[Nested intervals property]
  Let $\mathbb{F}$ be an ordered field with the monotone sequences property. Let $I_1\supseteq I_2 \supseteq \cdots$ be closed bounded non-empty intervals. Then $\bigcap_{n = 1}^\infty I_n\not= \emptyset$. 
\end{lemma}

\begin{proof}
  Let $T_n = [a_n, b_n]$ for each $n$. Then $a_1 \leq a_2 \leq\cdots$ and $b_1 \geq b_2\geq \cdots$. For each $n$, $a_n \leq b_n \leq b_1$. So the sequence $a_n$ is bounded above. So by the monotone sequences property, it has a limit $a$. For each $n$, $a_n\leq a$, since if ever we had $a_n > a$, then $\forall m \geq n$, $a_m \geq a_n\Rightarrow a > a$, which is a contradiction.

  Also, for each fixed $n$, we have that $\forall m\geq n$, $a_m \leq b_m \leq b_n$. So $a \leq b_n$. Thus, for all $n$, $a_n \leq a \leq b_n \Rightarrow a\in O_m$. So $a\in \bigcap_{n = 1}^\infty I_n$. 
\end{proof}

We can use this to prove that the reals are uncountable:
\begin{prop}
  $\R$ is uncountable.
\end{prop}

\begin{proof}
  Suppose the contrary. Let $x_1, x_2, \cdots$ be a list of all real numbers. Find an interval that does not contain $x_1$. Within that interval, find an interval that does not contain $x_2$. Continue \emph{ad infinitum}. Then the intersection of all these intervals is non-empty, but the elements in the intersection are not in the list. Contradiction.
\end{proof}

\begin{thm}[Bolzano-Weierstrass theorem]
  Let $\mathbb{F}$ be an ordered field with the monotone sequences property (i.e. $\mathbb{F} = \mathbb{R}$).

  Then every bounded sequence has a convergent subsequence.
\end{thm}

\begin{proof}
  Let $u_0$ and $v_0$ be a lower and upper bound, respectively, for a sequence $(a_n)_1^{\infty}$. By repeated bisection, we can find a sequence of intervals $[u_0, v_0] \supseteq [u_1, v_1]\supseteq [u_2,v_2] \supseteq\cdots$ such that $v_n - u_n = (v_0 - u_0)/2^n$, and such that each $[u_n, v_n]$ contains infinitely many terms of $(a_n)$.

  By the nested intervals property, $\bigcap_{n = 1}^\infty [u_n, v_n] = \emptyset$. Let $x$ belong to the intersection. Now pick a subsequence $a_{n_1}, a_{n_2}, \cdots$ such that $a_{n_k} \in [u_k, v_k]$. We can do this because $[u_k, v_k]$ contains infinitely many $a_n$, and we have only picked finitely many of them.

  Let $\varepsilon > 0$. By the Archimedean property, we can find $K$ such that $(v_0 - u_0)/2^K \leq \varepsilon$. This implies that $[u_K, v_K] \subseteq (x - \varepsilon, x + \varepsilon)$, since $x\in [u_K, v_K]$.

  Then $\forall k \geq K$, $a_{n_k}\in [u_k, v_k] \subseteq [u_K, v_K] \subseteq (x - \varepsilon, x + \varepsilon)$. So $|a_{n_k} - x| < \varepsilon$. 
\end{proof}

\subsection{Cauchy sequences}
\begin{defi}[Cauchy sequence]
  A sequence $(a_n)$ is \emph{Cauchy} if
  \[
    \forall \varepsilon > 0\; \exists N\; \forall p; q\geq N:\; |a_p - a_q| < \varepsilon.
  \]
\end{defi}
Roughly, a sequence if Cauchy if all terms are eventually close to each other (as opposed to close to a limit).

\begin{lemma}
  Every convergent sequence is Cauchy.
\end{lemma}

\begin{proof}
  Let $a_n \to a$. Let $\varepsilon > 0$. Then $\exists N$ such that $\forall n \geq N$, $|a_n - a| < \epsilon/2$. Then $\forall p, q\geq N$, $|a_p - a_q| \leq |a_p - a| + |a - a_q| < \epsilon/2 + \epsilon/2 = \epsilon$.
\end{proof}

\begin{lemma}
  Let $(a_n)$ be a Cauchy sequence with a subsequence $(a_{n_k})$ that converges to $a$. Then $a_n\to a$. 
\end{lemma}

\begin{proof}
  Let $\varepsilon > 0$. Pick $N$ such that $\forall p, q\geq N$, $|a_p - a_q| < \varepsilon/2$. Then pick $K$ such that $n_K \geq N$ and $|a_{n_K} - a| < \varepsilon/2$.

  Then $\forall n \geq N$, we have
  \[
    |a_n - a| \leq |a_n  - a_{n_K}| + |a_{n_K} - a| < \frac{\varepsilon}{2} + \frac{\varepsilon}{2} = \varepsilon.
  \]
\end{proof}

\begin{thm}[The general principle of convergence]
  Let $\mathbb{F}$ be an ordered field with the monotone-sequence property. Then every Cauchy sequence of $\mathbb{F}$ converges.
\end{thm}

\begin{proof}
Let $(a_n)$ be a Cauchy sequence. Then it is eventually bounded, since $\exists N$, $\forall n \geq N$, $|a_n - a_N| \leq 1$ by the Cauchy condition. So it is bounded. Hence by Bolzano-Weierstrass, it has a convergent subsequence. Then $(a_n)$ converges to the same limit.
\end{proof}

Note that the definition of a convergent sequence is
\[
  \exists l\; \forall \varepsilon > 0\; \exists N\; \forall n\geq N\; |a_n - l| < \varepsilon,
\]
while that of Cauchy convergence is
\[
  \forall \varepsilon > 0\; \exists N\; \forall p, q\geq N\; |a_p - a_q| < \varepsilon.
\]
In the first definition, $l$ quantifies over all real numbers, which is uncountable. However, in the second definition, we only quantify over natural numbers and the rationals, which are countable. (By the Archimedean property, we only have to consider $\varepsilon \in \Q$)

Since they are equivalent, the second definition is preferred from a logic-simplicity point of view. 

\begin{lemma}
  Let $\mathbb{F}$ be an ordered field with the Archimedean property such that every Cauchy sequence converges. The $\mathbb{F}$ satisfies the monotone sequences property.
\end{lemma}

\begin{proof}
  We will show the equivalent statement that every increasnig non-Cauchy sequence is not bounded above.

  Let $(a_n)$ be an increasing sequence. If $(a_n)$ is not Cauchy, then
  \[
    \exists \varepsilon > 0\; \forall N\; \exists p, q > N:\; |a_p - a_q| \geq \varepsilon.
  \]
  Since $a_n$ is increasing, if we set $q = n$, we may deduce
  \[
    \exists \varepsilon > 0\; \forall N\; \exists p > N:\; a_p \geq a_N + \varepsilon.
  \]
  We can construct a subsequence $a_{n_1}, a_{n_2}, \cdots$ such that
  \[
    a_{n_{k + 1}} - a_{n_k} \geq \varepsilon.
  \]
  Therefore
  \[
    a_{n_k} \geq a_{n_1} + (k - 1)\varepsilon.
  \]
  So by the Archimedean property, $(a_{n_k})$ and hence $(a_n)$ is unbounded.
\end{proof}

\begin{defi}[Complete ordered field]
  An ordered field (with an appropriate metric) in which every Cauchy sequence converges is called \emph{complete}
\end{defi}
\note We can have complete ordered field that are not the reals, if they do not have the Archimedean property. For example, we can take the rational functions as before, then take the Cauchy completion of it (i.e. add all the limits we need). Then it is already to large to be the reals (it doesn't have the Archimedean property) but is a complete ordered field.

\subsection{Limit supremum and infimum}
\begin{defi}[Limit supremum/infimum]
  Let $(a_n)$ be a bounded sequence. We define the \emph{limit supremum} as
  \[
    \limsup_{n\to \infty} a_n = \lim_{n\to \infty}\left(\sup_{m \geq n} a_m\right).
  \]
  To see that this exists, set $b_n = \sum_{m\geq n}a_m$. Then $(b_n)$ is decreasing since we are taking the supremum of fewer and fewer things, and is bounded below by any lower bound for $(a_n)$ since $b_n \geq a_n$. So it converges.

  Similarly, we define the \emph{limit infimum} as
  \[
    \liminf_{n\to \infty}a_n = \lim_{n\to\infty}\left(\inf_{m\geq n} a_m\right).
  \]
\end{defi}

\begin{eg}
  Take the sequence
  \[
    2, -1, 1\frac{1}{2}, -\frac{1}{2}, 1\frac{1}{3}, -\frac{1}{3}, \cdots
  \]
  Then the limit supremum is $1$ and the limit infimum is $0$.
\end{eg}

\begin{lemma}
  Let $(a_n)$ be a sequnece. The following two statements are equivalent:
  \begin{itemize}
    \item $a_n\to a$
    \item $\limsup a_n = \liminf a_n = a$.
  \end{itemize}
\end{lemma}

\begin{proof}
  If $a_n \to a$, then let $\varepsilon > 0$. Then
  \[
    \exists n\; \forall m\geq n:\; a - \varepsilon \leq a_m \leq a + \varepsilon.
  \]
  It follows that
  \[
    a - \varepsilon \leq \inf_{m \geq n}a_m \leq \sup_{m\geq n} \leq a + \varepsilon.
  \]
  Since $\varepsilon$ was arbitrary, it follows that
  \[
    \liminf a_n = \limsup a_n = a.
  \]

  Conversely, if $\liminf a_n = \limsup a_n = a$, then let $\varepsilon > 0$. Then we can find $n$ such that
  \[
    \inf_{m\geq n} a_m > a - \varepsilon\text{ and }\sup _{m \geq n} a_m < a + \varepsilon. 
  \]
  It follows that $\forall m\geq n$, we have $|a_m - a| < \varepsilon$.
\end{proof}

\section{Convergence of infinite sums}
\begin{defi}[Convergence of infinite sums and partial sums]
  Let $(a_n)$ be a real sequence. For each $N$, define
  \[
    S_N = \sum_{n = 1}^N a_n.
  \]
  If the sequence $(S_N)$ converges to some limit $s$, then we say that
  \[
    \sum_{n = 1}^\infty a_n = s,
  \]
  and we say that the series $\displaystyle\sum_{n = 1}^\infty a_n$ \emph{converges}.

  We call $S_N$ the $N$th \emph{partial sum}.
\end{defi}

\begin{lemma}
  If $\displaystyle\sum_{n = 1}^\infty a_n$ converges. Then $a_n \to 0$. 
\end{lemma}

\begin{proof}
  Let $\displaystyle\sum_{n = 1}^{\infty} a_n = s$. Then $S_N \to s$ and $S_{N - 1} \to s$. Then $a_N = S_N - S_{N - 1} \to 0$.
\end{proof}
However, THE CONVERSE IS FALSE!!!
\begin{eg}
  If $a_n = 1/n$, then $a_n \to 0$ but $\sum a_n = \infty$.

  We can prove this as follows:
  \[
    S_{2^n} - S_{2^{n -1 }} = \frac{1}{2^{n - 1} + 1} + \cdots + \frac{1}{2^n} \geq \frac{2^{n - 1}}{2^n} = \frac{1}{2}.
  \]
  Therefore $S_{2^n} \geq S_1 + n/2$. So the partial sums are unbounded.
\end{eg}

\begin{eg}
  Let $|\rho| < 1$. Then
  \[
    \sum_{n = 0}^\infty \rho^n = \frac{1}{1 - \rho}.
  \]
  We can prove this by considering the partial sums:
  \[
    \sum_{n = 0}^\infty \rho^n = \frac{1 - \rho^{N + 1}}{1 - \rho}.
  \]
  But $\rho^{N + 1} \to 0$. So this tends to $1/(1 - \rho)$. 
\end{eg}

\begin{lemma}
  Suppose that $a_n \geq 0$ for every $n$ and the partial sums $S_n$ are bounded above. Then $\sum_{n=1}^\infty a_n$ converges.
\end{lemma}

\begin{proof}
  The sequence $(S_n)$ is increasing and bounded above. So the result follows form the monotone sequences property.
\end{proof}

\begin{lemma}[Comparison test]
  Let $(a_n)$ and $(b_n)$ be non-negative sequences, and suppose that $\exists C, N$ such that $\forall n\geq N$, $a_n \leq CB_n$.Then if $\sum b_n$ converges, then so does $\sum a_n$.
\end{lemma}
\begin{proof}
  Let $M > N$. Also for each $R$, let $S_R = \sum_{n = 1}^R a_n$ and $T_R = \sum_{n = 1}^R b_n$. We want $S_R$ to be bounded above.
  \[
    S_M - S_N = \sum_{n = N + 1}^M a_n \leq C\sum _{n = N + 1}^M b_n \leq C\sum_{n = N + 1}^\infty b_n.
  \]
  So $\forall M\geq N$, $S_M \leq S_n + C\sum_{n = N + 1}^\infty b_n$. Since $the S_M$ are increasing and bounded, it must converge.
  \note $N$ is fixed from the very beginning in the statement of the lemma.
\end{proof}
\end{document}
