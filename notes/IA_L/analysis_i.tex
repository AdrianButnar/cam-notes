\documentclass[a4paper]{article}

\usepackage[pdftex,
  hidelinks,
  pdfauthor={Dexter Chua},
  pdfsubject={Cambridge Maths Notes: Part IA - Analysis I},
  pdftitle={Part IA - Analysis I},
pdfkeywords={Cambridge Mathematics Maths Math IA Lent Analysis I}]{hyperref}

\input{header}

\title{Part IA - Analysis I}
\author{Lectured by W. T. Gowers}
\date{Lent 2015}

\begin{document}
\maketitle
{\small
\noindent\textbf{Limits and convergence}\\
Sequences and series in R and C. Sums, products and quotients. Absolute convergence; absolute convergence implies convergence. The Bolzano-Weierstrass theorem and applications (the General Principle of Convergence). Comparison and ratio tests, alternating series test.\hspace*{\fill} [6]

\vspace{10pt}
\noindent\textbf{Continuity}\\
Continuity of real- and complex-valued functions defined on subsets of $\R$ and $\C$. The intermediate value theorem. A continuous function on a closed bounded interval is bounded and attains its bounds.\hspace*{\fill} [3]

\vspace{10pt}
\noindent\textbf{Differentiability}\\
Differentiability of functions from $\R$ to $\R$. Derivative of sums and products. The chain rule. Derivative of the inverse function. Rolle's theorem; the mean value theorem. One-dimensional version of the inverse function theorem. Taylor's theorem from $\R$ to $\R$; Lagrangeâ€™s form of the remainder. Complex differentiation.\hspace*{\fill} [5]

\vspace{10pt}
\noindent\textbf{Power series}\\
Complex power series and radius of convergence. Exponential, trigonometric and hyperbolic functions, and relations between them. *Direct proof of the differentiability of a power series within its circle of convergence*.\hspace*{\fill}[4]

\vspace{10pt}
\noindent\textbf{Integration}\\
Definition and basic properties of the Riemann integral. A non-integrable function. Integrability of monotonic functions. Integrability of piecewise-continuous functions. The fundamental theorem of calculus. Differentiation of indefinite integrals. Integration by parts. The integral form of the remainder in Taylor's theorem. Improper integrals.\hspace*{\fill} [6]}

\tableofcontents

\section{The real number system}
One can define real numbers as ``decimals'' consisting of infinitely many digits. However, while this is legitimate, it is not a convenient definition to work with. Instead, we define the real numbers to be ``an ordered field with the least upper bound property'', and show that the decimals form ``an ordered field with the least upper bound property'' if we really want to.
\begin{defi}[Field]
  A \emph{field} is a set $X$ with two binary operations $+$ and $\times$ that satisfies all the familiar properties satisfied by addition and multiplication in $\Q$, namely
  \begin{itemize}
    \item Associativity: $\forall a, b, c\in X$, $a + (b + c) = (a + b) + c$ and $a\times (b\times c) = (a\times b)\times c$
    \item Commutativity: $\forall a, b\in X$, $a + b = b + a$ and $a\times b= b\times a$
    \item Identity: $\exists 0, 1\in X$ such that $\forall a$, $a + 0 = a$ and $a\times 1 = a$.
    \item Inverses: $\forall a\in X$, $\exists (-a)\in X$ such that $a + (-a) = 0$. If $a\not= 0$, then $\exists a^{-1}$ such that $a\times a^{-1} = 1$.
    \item Distributivity: $\forall a, b, c\in F$, $a\times (b + c) = (a\times b) + (a\times c)$
  \end{itemize}
\end{defi}

\begin{eg}
  $\Q, \R, \C$, integers mod $p$, $\{a + b\sqrt{2}: a, b\in \Z\}$.
\end{eg}

\begin{defi}[Totally ordered set]
  An \emph{(totally) ordered set} is a set $X$ with a relation $<$ that satisfies
  \begin{enumerate}
    \item Transitivity: if $x, y, z\in X$, $x < y$ and $y < z$, then $x < z$
    \item Trichotomy: if $x, y\in X$, exactly one of $x < y, x = y, y < x$ holds
  \end{enumerate}
\end{defi}

\begin{defi}[Ordered field]
  An \emph{ordered field} is a field $\mathbb{F}$ with a relation $<$ that makes $\mathbb{F}$ into an ordered set such that
  \begin{enumerate}
    \item if $x, y, z \in \mathbb{F}$ and $x < y$, then $x + z < y + z$
    \item if $x, y, z \in \mathbb{F}$, $x < y$ and $z > 0$, then $xz < yz$
  \end{enumerate}
\end{defi}

\begin{lemma}
  Let $\mathbb{F}$ be an ordered field and $x\in \mathbb{F}$. Then $x^2 \geq 0$.
\end{lemma}

\begin{proof}
  By trichotomy, either $x < 0$, $x = 0$ or $x > 0$. If $x = 0$, then $x^2 = 0$. So $x^2 \geq 0$. If $x > 0$, then $x^2 > 0\times x = 0$. If $x < 0$, then $x - x < 0 - x$. So $0 < -x$. But then $x^2 = (-x)^2 > 0$.
\end{proof}

\begin{defi}[Least upper bound]
  Let $X$ be an ordered set and let $A\subseteq X$. An \emph{upper bound} for $A$ is an element $x\in X$ such that $\forall a\in A(a \leq x)$. If $A$ has an upper bound, then we say that $A$ is \emph{bounded above}.

  An upper bound $x$ for $A$ is a \emph{least upper bound} or \emph{supremum} if nothing smaller that $x$ is an upper bound. That is, we need
  \begin{enumerate}
    \item $\forall a\in A(a \leq x)$
    \item $\forall y < x(\exists a\in A(a \geq y))$
  \end{enumerate}

  We usually write $\sup A$ for the supremum of $A$ when it exists. If $\sup A\in A$, then we call it $\max A$, the maximum of $A$.
\end{defi}

\begin{eg}
  Let $X = \Q$. Then the supremum of $(0, 1)$ is $1$. The set $\{x: x^2 < 2\}$ is bounded above by $2$, but has no supremum (even though $\sqrt{2}$ seems like a supremum, we are in $\Q$ and $\sqrt{2}$ is non-existent!).

  $\max [0, 1] = 1$ but $(0, 1)$ has no maximum because the supremum is not in $(0, 1)$.
\end{eg}

We can think of the supremum as a point we can get arbitrarily close to in the set but cannot pass through.

\begin{defi}[Least upper bound property]
  An ordered field has the \emph{least upper bound property} if every non-empty subset of $\mathbb{F}$ that is bounded above has a supremum.
\end{defi}

Obvious modifications give rise to definitions of lower bound, greatest lower bound (or infimum) etc. It is simple to check that an ordered field with the least upper bound property has the greatest lower bound property.

\begin{lemma}[Archimedean property v1)]
  Let $\mathbb{F}$ be an ordered field with the least upper bound property. Then the set $\{1, 2, 3, \cdots\}$ is not bounded above. (Note that these need not refer to natural numbers. We simply define $1$ to be the multiplicative identity, $2 = 1 + 1$, $3 = 1 + 2$ etc.)
\end{lemma}

\begin{proof}
  If it is bounded above, then it has a supremum $x$. But then $x - 1$ is not an upper bound. So we can find $n\in \{1, 2, 3, \cdots\}$ such that $n> x - 1$. But then $n + 1 > x$ but $x$ is supposed to be an upper bound.
\end{proof}

While the Archimedean property seems to be trivially true for all ordered fields even if they are not bounded above, actually there are ordered fields in which the integers are not bounded above.

For example, consider the field of rational functions, i.e. functions in the form $\frac{P(x)}{Q(x)}$ with $P(x), Q(x)$ being polynomials. We order two functions $\frac{P(x)}{Q(x)}, \frac{R(s)}{S(x)}$ as follows: these two functions intersect only finitely many times because $P(x)S(x) = R(x)Q(x)$ has only finitely many roots. After the last intersection, the function whose value is greater counts as the greater function. It can be checked that these form an ordered field.

In this field, the integers are the constant functions $1, 2, 3, \cdots$, but it is not bounded above since the function $x$ is greater than all of them.

\section{Convergence of sequences}
\begin{defi}[Sequence]
  A \emph{sequence} is, formally, a function $a: \N \to \R$ (or $\C$). Usually (i.e. always), we write $a_n$ instead of $a(n)$. Instead of $a$, $(a_n)$, $(a_n)_1^\infty$ or $(a_n)_{n = 1}^\infty$ to indicate it is a sequence.
\end{defi}

\begin{defi}[Convergence of sequence]
  Let $(a_n)$ be a sequence and $\ell\in \R$. Then $a_n$ \emph{converges to} $\ell$, \emph{tends to} $\ell$, or $a_n \to \ell$ , if
  \[
    \forall \varepsilon > 0\;\exists N\; \forall n\geq N:\;|a_n - \ell| < \varepsilon.
  \]
\end{defi}
One can think of $\exists N : \forall n\geq N$ as saying ``eventually always'', or as ``from some point on''. So the definition means, if $a_n\to \ell$, then given any $\varepsilon$, there eventually, everything in the sequence is within $\varepsilon$ of $\ell$.

\begin{lemma}[Archimedean property v2]
  $1/n \to 0$.
\end{lemma}

\begin{proof}
  \textcolor{red}{Let $\varepsilon > 0$}. We want to find an $N$ such that $|1/N - 0| = 1/N < \varepsilon$. So \textcolor{red}{pick $N$} such that $N > 1/\varepsilon$. This exists such an $N$ by the Archimedean property v1. Then \textcolor{red}{for all $n > N$}, we have $0 < 1/n \leq 1/N < \varepsilon$. So \textcolor{red}{$|1/n - 0|\to \varepsilon$}.
\end{proof}
Note that the red parts correspond to the \emph{definition} of a sequence.

\begin{defi}[Bounded sequence]
  A sequence $(a_n)$ is \emph{bounded}
  \[
    \exists C\;\forall n:\;|a_n| \leq C.
  \]
  A sequnece is \emph{eventually bounded} if
  \[
    \exists C\; \exists N\; \forall n\geq N:\; |a_n| \leq C.
  \]
\end{defi}
\begin{lemma}
  Every eventually bounded sequence is bounded.
\end{lemma}

\begin{proof}
  Let $C$ and $N$ be such that $\forall n\geq N\; |a_n| \leq C$. Then $\forall n \in \N$, $|a_n| \leq \max\{|a_1|, \cdots, |a_{n - 1}|, C\}$.
\end{proof}
\subsection{Sums, products and quotients}

\begin{lemma}[Sums of sequences]
  If $a_n \to a$ and $b_n \to b$, then
  \begin{enumerate}
    \item $a_n + b_n \to a + b$
  \end{enumerate}
\end{lemma}

\begin{proof}
  Let $\varepsilon > 0$. We want to show that $\exists N$ such that $\forall n \geq N$, $|a_n + b_n - (a+b)| < \varepsilon$. We know that $a_n$ is very close to $a$ and $b_n$ is very close to $b$. So their sum must be very close to $a + b$.
  
  Formally, since $a_n\to a$ and $b_n \to b$, we can find $N_1, N_2$ such that $\forall n \geq N_1$, $|a_n - a| < \varepsilon/2$ and $\forall n \geq N_2$, $|b_n - b| < \varepsilon/2$.

  Now let $N = \max\{N_1, N_2\}$. Then by the triangle inequality, 
  \[
    |(a_n + b_n) - (a + b)| \leq |a_n - a| + |b_n - b| < \varepsilon.
  \]
\end{proof}

\begin{lemma}[Scalar multiplication of sequences]
  Let $a_n \to a$ and $\lambda \in \R$. Then $\lambda a_n \to \lambda a$. 
\end{lemma}

\begin{proof}
  If $\lambda = 0$, then the result is trivial.

  Otherwise, let $\varepsilon > 0$. Then $\exists N$ such that $\forall n \geq N$, $|a_n - a| < \varepsilon/|\lambda|$. So $|\lambda a_n - \lambda a| < \epsilon$.
\end{proof}

\begin{lemma}
  Let $a_n$ be bounded $b_n \to 0$. Then $a_nb_n \to 0$.
\end{lemma}

\begin{proof}
  Let $C\not=0$ be such that $\forall n:\; |a_n|\leq C$. Let $\varepsilon > 0$. Then $\exists N$ such that $\forall n\geq N$, $|b_n| < \varepsilon/C$. Then $|a_nb_n| < \varepsilon$. 
\end{proof}

\begin{lemma}
  Every convergent sequence is bounded.
\end{lemma}

\begin{proof}
  Let $a_n \to l$. Then $\exists N: \forall n \geq N$, $|a_n - l| \leq 1$. So $|a_n| \leq |l| + 1$. So $a_n$ is eventually bounded, and therefore bounded.
\end{proof}

\begin{lemma}[Product of sequences]
  Let $a_n\to a$ and $b_n\to b$. Then $a_nb_n\to ab$. 
\end{lemma}

\begin{proof}
  Let $c_n = a_n - a$ and $d_n = b_n - b$. Then $a_nb_n = (a + c_n)(b + d_n) = ab + ad_n + bc_n + c_nd_n$.

  But by ``sum of sequences'', $c_n \to 0$ and $d_n \to 0$. So $ad_n \to 0$ and $bc_n\to 0$. Since $c_n$ is bounded, $c_nd_n \to 0$. Hence by sum of sequences, $a_nb_n \to ab$
\end{proof}

The proof can be discovered as follows: We know that $a_n$ and $b_n$ get close to $a$ and $b$. So we can write $a_n$ as $a$ plus some error term, and similarly for $b$. We realize that the error term of the product is $ad_n + bc_n + c_nd_n$. Then we prove lemmas to show that each of the error terms tend to 0.

\begin{proof}
  (alternative) Observe that $a_nb_n - ab = (a_n - a) b_n + (b_n - b)a$. We know that $a_n - a \to 0$ and $b_n - b\to 0$. Since $(b_n)$ is bounded, so $(a_n - a)b_n + (b_n - b)a \to 0$. So $a_nb_n \to ab$.
\end{proof}

Note that we no longer write ``Let $\varepsilon > 0$''. In the beginning, we have no lemmas proven. So we must prove everything from first principles and use the definition. However, after we have proven the lemmas, we can simply use them instead of using first principles. This is similar to in calculus, where we use first principles to prove the product rule and chain rule, then no longer use first principles afterwards.

\begin{lemma}[Quotient of sequences]
  Let $(a_n)$ be a sequence such that $\forall n \not= 0$. Suppose that $a_n \to a$ and $a\not = 0$. Then $1/a_n \to 1/a$.
\end{lemma}

\begin{proof}
  We have
  \[
    \frac{1}{a_n} - \frac{1}{a} = \frac{a - a_n}{aa_n}.
  \]
  We want to show that $1/(aa_n)$ is bounded: Since $a_n \to a$, $\exists N\, \forall n\geq N$, $|a_n - a| \leq a_2$. Then $\forall n\geq N$, $|a_n| \geq |a|/2$. Then $|1/(a_na)| \leq 2/|a|^2$. So $1/(a_na)$ is bounded. So $(a - a_n)/(aa_n)\to 0$ and the result follows.
\end{proof}

\begin{cor}
  If $a_n \to a, b_n \to b$, $b_n, b\not= 0$. Then $a_n/b_n = a/b$.
\end{cor}

\begin{proof}
  We know that $1/b_n \to 1/b$. So the result follows by the product rule.
\end{proof}

\begin{lemma}[Sandwich rule]
  Let $(a_n)$ and $(b_n)$ be sequences that both converge to a limit $x$. Suppose that $a_n \leq c_n \leq b_n$ for every $n$. Then $c_n \to x$.
\end{lemma}

\begin{proof}
  Let $\varepsilon > 0$. We can find $N$ such that $\forall n \geq N$, $|a_n - x| < \varepsilon$ and $|b_n - x| < \varepsilon$.

  The $\forall n\geq N$, we have $x - \varepsilon < a_n \leq c_n \leq b_n < x + \varepsilon$. So $|c_n - x| < \varepsilon$.
\end{proof}

\begin{eg}
  $1/2^n \to 0$. For every $n$, $n < 2^n$. So $0 < 1/2^n < 1/n$. The result follows from the sandwich rule.
\end{eg}
\begin{eg}
  We want to show that
  \[
    \frac{n^2 + 3}{(n + 5)(2n - 1)} \to \frac{1}{2}.
  \]
  Write
      \[
        \frac{n^2 + 3}{(n + 5)(2n - 1)} = \frac{1 + 3/n^2}{(1 + 5/n)(2 - 1/n)} \to \frac{1}{2},
      \]
      by sum rule, sandwich rule, Archimedean property, product rule and quotient rule.
\end{eg}

\begin{eg}
  Let $k\in \N$ and let $\delta > 0$. Then
  \[
    \frac{n^k}{(1 + \delta)^n}\to 0.
  \]
  This can be summarized as ``exponential growth beats polynomial growth eventually''.

  By the binomial theorem,
  \[
    (1 + \delta)^n \geq \binom{n}{k + 1}\delta^{k + 1}.
  \]
  Then if $n\geq 2k$,
  \[
    \binom{n}{k + 1} = \frac{n(n - 1)\cdots(n - k)}{(k + 1)!} \geq \frac{(n/2)^{k + 1}}{(k + 1)!}.
  \]
  So
  \[
    \frac{n^k}{(1 + \delta)^n} \leq \frac{n^k 2^{k + 1} (k+1)!}{n^{k + 1}\delta^{k + 1}} = \frac{2^{k + 1} (k + 1)!}{\delta^{k + 1}} \cdot \frac{1}{n} \to 0.
  \]
\end{eg}

\begin{defi}[Monotone sequence]
  A sequence $(a_n)$ is \emph{increasing} if $\forall n$, $a_n\leq a_{n + 1}$. It is \emph{strictly increasing} $a_n < a_{n + 1}$ for all $n$. \emph{(Strictly) decreasing} sequences are defined analogously.

  A sequence is \emph{(strictly) monotone} if it is (strictly) increasing or (strictly) decreasing.
\end{defi}

\subsection{Monotone-sequences property}
\begin{defi}[Monotone sequences property]
  An ordered field has the \emph{monotone sequences property} if every increasing sequence that is bounded above converges.
\end{defi}

\begin{lemma}
  Least upper bound property $\Rightarrow$ monotone-sequences property.
\end{lemma}

\begin{proof}
  Let $(a_n)$ be an increasing sequence and let $C$ an upper bound for $(a_n)$. The $C$ is an upper bound for the set $\{a_n: n \in \N\}$. By the least upper bound property, it has a supremum $s$.

  Let $\varepsilon > 0$. Since $s = \sup \{a_n: n\in \N\}$, there exists an $N$ such that $a_N > s - \varepsilon$. The $\forall n \geq N$, we have $s - \varepsilon < a_n \leq a_n \leq s$. So $|a_n - s| < \epsilon$.
\end{proof}

\begin{lemma}
  Monotone-sequences property. $\Rightarrow$ Archimedean property.
\end{lemma}

\begin{proof}
  We prove version 2, i.e. that $1/n \to 0$.

  Since $1/n > 0$ and is decreasing, by MSP, in converges. Let $\delta$ be the limit. We must have $\delta \geq 0$, since if $\delta < 0$, then there would exist $n$ with $3\delta/2 < 1/n < \delta/2 < 0$. Contradiction.

  If $\delta > 0$, then we can find $N$ such that $1/N < 2\delta$. But then for all $n \geq 4N$, we have $1/n \leq 1/(4N) < \delta/2$. Contradiction. Therefore $\delta = 0$.
\end{proof}

\begin{lemma}
  Monotone sequences property $\Rightarrow$ least upper bound property.
\end{lemma}

\begin{proof}
  Let $A$ be a non-empty set that's bounded above. Pick $u_0, v_0$ such that $u_0$ is not an upper bound for $A$ and $v_0$ is an upper bound. Now do a repeated bisection: having chosen $u_n$ and $v_n$ such that $u_n$ is not an upper bound and $v_n$ is, if $(u_n + v_n)/2$ is an upper bound, then let $u_{n + 1} = u_n$, $v_{n + 1} = (u_n + v_n)/2$. Otherwise, let $u_{n + 1} + \frac{u_n + v_n}{2}$, $v_{n + 1} = v_n$.

  Then $u_0 \leq u_1 \leq u_2 \leq \cdots$ and $v_0\geq v_1 \geq v_2 \geq \cdots$. Then 
  \[
    v_n - u_n = \frac{v_0 - u_0}{2^n} \to 0.
  \]
  Note that here we used the Archimidean property since to prove $1/2^n \to 0$, we sandwich it with $1/n$. But to show $1/n\to 0$, we need the Archimedean property.

  By the monotone sequences property, $u_n\to s$ (since $(u_n)$ is bounded above by $v_0$). Since $v_n - u_n \to 0$, $v_n \to s$. We now show that $s = \sup A$.

  If $s$ is not an upper bound, then there exists $a\in A$ such that $a > s$. Since $v_n \to s$, then there exists $m$ such that $v_m < a$, contradicting the fact that $v_m$ is an upper bound.

  Let $t < s$. Then since $u_n \to s$, we can find $m$ such that $u_m > t$. So $t$ is not an upper bound. Therefore $s$ is the least upper bound.
\end{proof}
\end{document}
